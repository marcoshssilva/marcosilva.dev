kind: pipeline
spec:
  stages:
  - type: ci
    spec:
      steps:
      - name: 'download_dependencies'
        type: run
        spec:
          container: node:20
          script: |-
            npm install --force
      - name: 'run_tests'
        type: run
        spec:
          container: node:20
          script: |-
            npm run lint
            npm run test
      - name: 'run_build'
        type: run
        spec:
          container: node:20
          script: |-
            npm run build
      - name: 'generate_docker_image'
        type: plugin
        spec:
          name: docker
          inputs:
            auto_tag: true
            auto_tag_suffix: marcossilva-dev-website
            context: .
            dockerfile: ./Dockerfile
